{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}{% if form.instance.pk %}Редактировать тариф{% else %}Создать тариф{% endif %}{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">{% if form.instance.pk %}Редактировать тариф{% else %}Создать тариф{% endif %}</h5>
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="mb-3">
                <label class="form-label">Наименование</label>
                {{ form.name|add_class:"form-control" }}
            </div>
            <div class="mb-3">
                <label class="form-label">Тип корпуса</label>
                {{ form.building_type|add_class:"form-select" }}
            </div>

            <hr>
            <h6 class="text-primary mb-3">Полная стоимость</h6>
            <div class="row g-2">
                <div class="col-md-3">
                    <label class="form-label">Стоимость</label>
                    {{ form.price_full|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НДС</label>
                    {{ form.nds_full|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НМА</label>
                    {{ form.nma_full|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НСП</label>
                    {{ form.nsp_full|add_class:"form-control" }}
                </div>
            </div>

            <hr>
            <h6 class="text-primary mb-3">50% стоимость</h6>
            <div class="row g-2">
                <div class="col-md-3">
                    <label class="form-label">Стоимость</label>
                    {{ form.price_50|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НДС</label>
                    {{ form.nds_50|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НМА</label>
                    {{ form.nma_50|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НСП</label>
                    {{ form.nsp_50|add_class:"form-control" }}
                </div>
            </div>

            <hr>
            <h6 class="text-primary mb-3">Льготная стоимость №1</h6>
            <div class="row g-2">
                <div class="col-md-3">
                    <label class="form-label">Стоимость</label>
                    {{ form.price_lgot_1|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НДС</label>
                    {{ form.nds_lgot_1|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НМА</label>
                    {{ form.nma_lgot_1|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НСП</label>
                    {{ form.nsp_lgot_1|add_class:"form-control" }}
                </div>
            </div>

            <hr>
            <h6 class="text-primary mb-3">Льготная стоимость №2</h6>
            <div class="row g-2">
                <div class="col-md-3">
                    <label class="form-label">Стоимость</label>
                    {{ form.price_lgot_2|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НДС</label>
                    {{ form.nds_lgot_2|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НМА</label>
                    {{ form.nma_lgot_2|add_class:"form-control" }}
                </div>
                <div class="col-md-3">
                    <label class="form-label">НСП</label>
                    {{ form.nsp_lgot_2|add_class:"form-control" }}
                </div>
            </div>

            <hr>
            <div class="mb-3">
                <label class="form-label">Активная льготная стоимость</label>
                {{ form.lgot_active_set }}
            </div>

            <div class="d-flex justify-content-between">
                <a href="{% url 'rate_list' %}" class="btn btn-secondary">Назад</a>
                <button type="submit" class="btn btn-success">{% if form.instance.pk %}Сохранить{% else %}Создать{% endif %}</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
